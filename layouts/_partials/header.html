<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>{{ .Title }} | {{ .Site.Title }}</title>
    <link rel="stylesheet" href="{{ "css/style.css" | relURL }}" />
    <link rel="stylesheet" href="{{ "css/fonts.css" | relURL }}" />
    {{ partial "head_custom.html" . }}
  </head>

  <body>
    <button class="theme-toggle" onclick="toggleTheme()" aria-label="Toggle dark mode">
      <span class="theme-text">Dark</span>
    </button>
    
    <nav>
    <ul class="menu">
      {{ range .Site.Menus.main }}
      <li><a href="{{ .URL | relURL }}">{{ .Name }}</a></li>
      {{ end }}
    </ul>
    <hr/>
    </nav>

    <script>
      function toggleTheme() {
        const body = document.body;
        const text = document.querySelector('.theme-text');
        
        if (body.getAttribute('data-theme') === 'dark') {
          body.removeAttribute('data-theme');
          text.textContent = 'Dark';
          localStorage.setItem('theme', 'light');
        } else {
          body.setAttribute('data-theme', 'dark');
          text.textContent = 'Light';
          localStorage.setItem('theme', 'dark');
        }
      }

      // Load saved theme
      const savedTheme = localStorage.getItem('theme');
      const text = document.querySelector('.theme-text');
      
      if (savedTheme === 'dark') {
        document.body.setAttribute('data-theme', 'dark');
        if (text) text.textContent = 'Light';
      } else if (text) {
        text.textContent = 'Dark';
      }
    </script>
