  <footer>
  {{ partial "foot_custom.html" . }}
  
  {{ with .Site.Params.footer }}
  <hr/>
  <div class="footer-links">
    <a href="{{ "categories/" | relURL }}">Categories</a>
    <a href="{{ "tags/" | relURL }}">Tags</a>
  </div>
  {{ replace . "{Year}" now.Year | markdownify }}
  {{ end }}
  </footer>

  <!-- TOC Toggle Script -->
  <script>
    function toggleTOC() {
      const toc = document.getElementById('toc');
      if (toc) {
        toc.classList.toggle('open');
      }
    }

    // Close TOC when clicking outside
    document.addEventListener('click', function(event) {
      const toc = document.getElementById('toc');
      const toggle = document.querySelector('.toc-toggle');
      
      if (toc && toggle && toc.classList.contains('open')) {
        if (!toc.contains(event.target) && !toggle.contains(event.target)) {
          toc.classList.remove('open');
        }
      }
    });

    // Smooth scroll for TOC links
    document.addEventListener('DOMContentLoaded', function() {
      const tocLinks = document.querySelectorAll('.toc a');
      
      tocLinks.forEach(link => {
        link.addEventListener('click', function(e) {
          e.preventDefault();
          const targetId = this.getAttribute('href').substring(1);
          const targetElement = document.getElementById(targetId);
          
          if (targetElement) {
            targetElement.scrollIntoView({
              behavior: 'smooth',
              block: 'start'
            });
            
            // Close TOC after clicking a link
            const toc = document.getElementById('toc');
            if (toc) {
              toc.classList.remove('open');
            }
          }
        });
      });
    });
  </script>

  </body>
</html>
